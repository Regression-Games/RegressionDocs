"use strict";(self.webpackChunkregression_docs=self.webpackChunkregression_docs||[]).push([[5792],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),d=p(a),m=o,h=d["".concat(l,".").concat(m)]||d[m]||c[m]||i;return a?n.createElement(h,s(s({ref:t},u),{},{components:a})):n.createElement(h,s({ref:t},u))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,s=new Array(i);s[0]=m;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[d]="string"==typeof e?e:o,s[1]=r;for(var p=2;p<i;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7889:(e,t,a)=>{a.d(t,{ZP:()=>r});var n=a(7462),o=(a(7294),a(3905));const i={toc:[]},s="wrapper";function r(e){let{components:t,...r}=e;return(0,o.kt)(s,(0,n.Z)({},i,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Find the ",(0,o.kt)("inlineCode",{parentName:"p"},"RGOverlayCanvasV2")," prefab by navigating to ",(0,o.kt)("strong",{parentName:"p"},"Packages")," > ",(0,o.kt)("strong",{parentName:"p"},"Regression Games Unity Bots")," > ",(0,o.kt)("strong",{parentName:"p"},"Runtime")," > ",(0,o.kt)("strong",{parentName:"p"},"Prefabs")," and\ndrag it into your scene's object hierarchy. Make sure that the canvas is at the top of the hierarchy, so that it is always\nvisible and interactable."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Note that this overlay ",(0,o.kt)("strong",{parentName:"p"},"must be present in your scene")," for Regression Games to function. The visibility\nof the overlay can be hidden through the Regression Games settings pane under ",(0,o.kt)("strong",{parentName:"p"},"Edit")," > ",(0,o.kt)("strong",{parentName:"p"},"Project Settings")," >\n",(0,o.kt)("strong",{parentName:"p"},"Regression Games"),". Place this component into each scene that must be able to use Regression Games SDK features.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of the search pane for the RGOverlayCanvas.",src:a(4375).Z,width:"1084",height:"568"})))}r.isMDXComponent=!0},7360:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>u});var n=a(7462),o=(a(7294),a(3905)),i=a(7889);const s={sidebar_label:"Writing Your First Automated Test"},r="Writing Your First Automated Test",l={unversionedId:"tutorials/building-your-first-bot",id:"tutorials/building-your-first-bot",title:"Writing Your First Automated Test",description:"In this tutorial, we will get a simple automated test working in Unity using Regression Games. We will show you:",source:"@site/docs/tutorials/building-your-first-bot.mdx",sourceDirName:"tutorials",slug:"/tutorials/building-your-first-bot",permalink:"/tutorials/building-your-first-bot",draft:!1,tags:[],version:"current",frontMatter:{sidebar_label:"Writing Your First Automated Test"},sidebar:"unitySidebar",next:{title:"Getting Started with Gameplay Sessions",permalink:"/gameplay-sessions/gameplay-sessions-getting-started"}},p={},u=[{value:"(Optional) Download a sample game",id:"optional-download-a-sample-game",level:2},{value:"Import the Regression Games Unity Bots package",id:"import-the-regression-games-unity-bots-package",level:2},{value:"Restart Unity and your IDE",id:"restart-unity-and-your-ide",level:2},{value:"Record a gameplay session",id:"record-a-gameplay-session",level:2},{value:"Add the RGOverlayCanvas",id:"add-the-rgoverlaycanvas",level:3},{value:"Record a gameplay session as an automated test",id:"record-a-gameplay-session-as-an-automated-test",level:3},{value:"Create a Validation Suite",id:"create-a-validation-suite",level:2},{value:"Creating the test scenario",id:"creating-the-test-scenario",level:3},{value:"Run the Validation Suite on new automated runs",id:"run-the-validation-suite-on-new-automated-runs",level:3},{value:"Next Steps",id:"next-steps",level:2}],d={toc:u},c="wrapper";function m(e){let{components:t,...s}=e;return(0,o.kt)(c,(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"writing-your-first-automated-test"},"Writing Your First Automated Test"),(0,o.kt)("p",null,"In this tutorial, we will get a simple automated test working in Unity using Regression Games. We will show you:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to integrate the RG Unity SDK into your game"),(0,o.kt)("li",{parentName:"ul"},"Record a ",(0,o.kt)("a",{parentName:"li",href:"/gameplay-sessions/gameplay-sessions-getting-started"},"Gameplay Session")," as an automated test"),(0,o.kt)("li",{parentName:"ul"},"Create a ",(0,o.kt)("a",{parentName:"li",href:"/validations/validations-getting-started"},"Validation Suite")," and run that against future test runs")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of results from a run",src:a(7909).Z,width:"3218",height:"1892"})),(0,o.kt)("h2",{id:"optional-download-a-sample-game"},"(Optional) Download a sample game"),(0,o.kt)("p",null,"Feel free to follow this tutorial within your own game, but we recommend starting with a sample game if you do not have\na game available. Our team often uses BossRoom, a simple multiplayer game created by Unity. However, you can start\nwith any game of your choosing!"),(0,o.kt)("p",null,"Download the BossRoom sample from the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Unity-Technologies/com.unity.multiplayer.samples.coop"},"official GitHub repository.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Note that there are some limitations of the package that may not work with your game. For instance, our framework\nworks best with the New Unity Input System and games that use standard UI canvas elements and game objects. Learn\nmore about these limitations in our ",(0,o.kt)("a",{parentName:"p",href:"/gameplay-sessions/gameplay-sessions-getting-started#known-limitations"},"Gameplay Session recording docs"),".")),(0,o.kt)("p",null,"Open it within Unity version 2022.3 (visit the ",(0,o.kt)("a",{parentName:"p",href:"https://unity.com/releases/editor/whats-new/2022.3.27"},"Unity archive")," if\nyou can't find that version from Unity Hub). Once the project is loaded, open the ",(0,o.kt)("strong",{parentName:"p"},"MainMenu")," scene within\n",(0,o.kt)("strong",{parentName:"p"},"Assets")," > ",(0,o.kt)("strong",{parentName:"p"},"Scenes")," > ",(0,o.kt)("strong",{parentName:"p"},"MainMenu"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of the playground scene",src:a(834).Z,width:"2692",height:"1676"})),(0,o.kt)("h2",{id:"import-the-regression-games-unity-bots-package"},"Import the Regression Games Unity Bots package"),(0,o.kt)("p",null,"You can find ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Regression-Games/RGUnityBots"},"our package on GitHub"),". Import the package into your Unity project by opening\nthe ",(0,o.kt)("strong",{parentName:"p"},"Package Manager")," window (",(0,o.kt)("strong",{parentName:"p"},"Window")," > ",(0,o.kt)("strong",{parentName:"p"},"Package Manager"),") and click ",(0,o.kt)("strong",{parentName:"p"},"Add package from git URL"),". Then, paste the following URL:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"https://github.com/Regression-Games/RGUnityBots.git?path=src/gg.regression.unity.bots#v0.0.19\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"This package utilizes TextMeshPro.  If you are prompted by Unity to add TextMeshPro assets to your project, please add them."),(0,o.kt)("li",{parentName:"ul"},"This package installs a dependency of Newtonsoft Json (",(0,o.kt)("a",{parentName:"li",href:"https://docs.unity3d.com/Packages/com.unity.nuget.newtonsoft-json@3.1/manual/index.html"},"https://docs.unity3d.com/Packages/com.unity.nuget.newtonsoft-json@3.1/manual/index.html"),") for serializing/deserializing Json message payloads."),(0,o.kt)("li",{parentName:"ul"},"If you get a note about Unity's new input system, click ",(0,o.kt)("strong",{parentName:"li"},"Yes")," and allow the editor to restart."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Gif of the package imported into the project",src:a(1274).Z,width:"1084",height:"568"})),(0,o.kt)("p",null,"After importing the package, you will be greeted by a login screen. Create an account at\n",(0,o.kt)("a",{parentName:"p",href:"https://play.regression.gg"},"https://play.regression.gg")," and login to Unity with your account credentials. If you need to login again in the future,\nyou can enter your login info by visiting the ",(0,o.kt)("strong",{parentName:"p"},"Regression Games")," > ",(0,o.kt)("strong",{parentName:"p"},"Getting Started")," menu."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of the package imported into the project",src:a(4589).Z,width:"3456",height:"2160"})),(0,o.kt)("h2",{id:"restart-unity-and-your-ide"},"Restart Unity and your IDE"),(0,o.kt)("p",null,"After installing the Regression Games Unity Bots package and its dependencies into Unity, please restart Unity\nand your code editor (e.g. Rider or Visual Studio). Without this step, Unity and your code editor may not properly\nresolve the new packages even after Unity recompiles the scripts."),(0,o.kt)("h2",{id:"record-a-gameplay-session"},"Record a gameplay session"),(0,o.kt)("p",null,"The first step in automating a test is to record a ",(0,o.kt)("a",{parentName:"p",href:"/gameplay-sessions/gameplay-sessions-getting-started"},"gameplay session"),".\nThis feature allows you to record real gameplay and play it back later as an automated test. Regression Games does\noffer other utilities for dynamic bots, but to get started with a simple example, we will record a click-through that\nverifies the functionality of the UI in BossRoom."),(0,o.kt)("h3",{id:"add-the-rgoverlaycanvas"},"Add the RGOverlayCanvas"),(0,o.kt)("p",null,"The RGOverlayCanvasV2 prefab provides an overlay that allows you to begin recording gameplay sessions."),(0,o.kt)(i.ZP,{mdxType:"OverlayPartial"}),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Your scene must have an EventSystem to make interaction with the overlay possible. You can add one by\nright-clicking in your scene's Hierarchy and selecting ",(0,o.kt)("strong",{parentName:"p"},"GameObject")," > ",(0,o.kt)("strong",{parentName:"p"},"UI")," > ",(0,o.kt)("strong",{parentName:"p"},"Event System"),".\nIf you are using the sample scene we provide, this is already included.")),(0,o.kt)("h3",{id:"record-a-gameplay-session-as-an-automated-test"},"Record a gameplay session as an automated test"),(0,o.kt)("p",null,"Once the overlay has been added to your scene(s), it's time to start a gameplay session recording! Our goal is to\n",(0,o.kt)("strong",{parentName:"p"},"record gameplay that can later be used as an automated test"),". More specifically, we will test the following\nsimple scenario (feel free to come up with your own if you are not using Boss Room):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The game loads into the main menu"),(0,o.kt)("li",{parentName:"ul"},"We use the mouse to click the Volume Settings button"),(0,o.kt)("li",{parentName:"ul"},"We verify that the Volume Settings panel is displayed"),(0,o.kt)("li",{parentName:"ul"},"Finally, we close the volume settings panel")),(0,o.kt)("p",null,"These actions are ",(0,o.kt)("strong",{parentName:"p"},"recorded")," and can be ",(0,o.kt)("strong",{parentName:"p"},"played back")," later as an automated test. As the test is run, data from the\ngame is collected, which will then be used within validations."),(0,o.kt)("p",null,"As shown in the short video below, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click the play button in the editor to start the game."),(0,o.kt)("li",{parentName:"ol"},"Click the red record button in the bottom right to start recording."),(0,o.kt)("li",{parentName:"ol"},"Click the Volume Settings button near the top right of the main menu."),(0,o.kt)("li",{parentName:"ol"},"Click the close button on the Volume Settings panel."),(0,o.kt)("li",{parentName:"ol"},"Click the rec recording button in the bottom right to stop recording."),(0,o.kt)("li",{parentName:"ol"},"When finished recording, click the hamburger menu next to the record button to open up a dialog for loading your\nrecording. You can find the recordings within your home directory, under\n",(0,o.kt)("inlineCode",{parentName:"li"},"~/unity_videos/{application name}/unity_videos/run#/data.zip"),". Select the ",(0,o.kt)("inlineCode",{parentName:"li"},"data.zip")," file and click ",(0,o.kt)("strong",{parentName:"li"},"Load Replay"),"."),(0,o.kt)("li",{parentName:"ol"},"Click the play button under the Regression Games logo to see your recording play back!")),(0,o.kt)("div",{style:{position:"relative",paddingBottom:"50.40485829959515%",height:0}},(0,o.kt)("iframe",{src:"https://www.loom.com/embed/1a88ffcad1ff49d6940473d5637e35ed?sid=336eaf3b-208c-4ea3-a0b3-c6ad3d2d2cee",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})),(0,o.kt)("h2",{id:"create-a-validation-suite"},"Create a Validation Suite"),(0,o.kt)("p",null,"With your first gameplay session saved, we can now write a functional test that validates the behaviour of this\nscenario! Visit ",(0,o.kt)("a",{parentName:"p",href:"https://play.regression.gg/validations"},"https://play.regression.gg/validations")," to begin creating a new\n",(0,o.kt)("a",{parentName:"p",href:"/validations/validations-getting-started"},"validation suite")," using this session."),(0,o.kt)("h3",{id:"creating-the-test-scenario"},"Creating the test scenario"),(0,o.kt)("p",null,"Click ",(0,o.kt)("strong",{parentName:"p"},"Create Suite"),", enter a name for yor validation suite, and select the gameplay session you just recorded (if\nyou don't see it, try refreshing the page). You may notice that there are two or more sessions; these include both\nthe original test session and the sessions created through the automated playback, so make sure to select the one\nlowest in the list, which is the first one created. Click ",(0,o.kt)("strong",{parentName:"p"},"Create Suite")," in the bottom right."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of the validation suite creation",src:a(8735).Z,width:"1772",height:"1098"})),(0,o.kt)("p",null,"Once the suite is created, you'll be able to select it within the Validation Suites Dashboard. Select your suite, and\nclick ",(0,o.kt)("strong",{parentName:"p"},"Create Scenario")," in the bottom right to start creating your first functional test."),(0,o.kt)("p",null,"The editor you see here is the ",(0,o.kt)("inlineCode",{parentName:"p"},"Scenario Editor"),". It features a screenshot scrubber to see your game in action, as well\nas a state panel to see in-depth information scraped from your game, including not only position information, but also\nMonobehaviour properties and fields, as well as keyboard and mouse inputs. For example, for a user interface, you can\nsee information such as image sources and text values."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot the scenario builder",src:a(8735).Z,width:"1772",height:"1098"})),(0,o.kt)("p",null,"Enter a name for your scenario (we used ",(0,o.kt)("inlineCode",{parentName:"p"},"Verify that the volume mixer opens"),"), and hover over the pane on the left to\nsee a list of options for validation. For this scenario, we will verify that:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The scene loads properly"),(0,o.kt)("li",{parentName:"ol"},"The volume settings panel appears")),(0,o.kt)("p",null,"This tools allows a wide variety of test scenarios, including mouse and key press detection, state assertions, and\nstoring values for comparison (learn more in the ",(0,o.kt)("a",{parentName:"p",href:"/validations/validations-scenario-builder-reference"},"documentation for validations"),").\nFor now, we will keep it simple, and the two steps listed above. See the screenshot above and the video below to see\nhow to add these steps (the search feature can be helpful for finding relevant elements in your scene)."),(0,o.kt)("div",{style:{position:"relative",paddingBottom:"50.40485829959515%",height:0}},(0,o.kt)("iframe",{src:"https://www.loom.com/embed/3575d3ef72ae4ebc87dc4eab668d3284?sid=336eaf3b-208c-4ea3-a0b3-c6ad3d2d2cee",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})),(0,o.kt)("p",null,"Once you are done creating these steps, click ",(0,o.kt)("strong",{parentName:"p"},"Create Scenario")," to save it. Back on the Validation Suite page, you\ncan click the options menu next to the scenario you just created to run it, by selecting the ",(0,o.kt)("strong",{parentName:"p"},"Run Scenario")," option.\nThis will immediately run this scenario on the original gameplay session and provide you with the results."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of results from a scenario",src:a(7603).Z,width:"1530",height:"726"})),(0,o.kt)("h3",{id:"run-the-validation-suite-on-new-automated-runs"},"Run the Validation Suite on new automated runs"),(0,o.kt)("p",null,"Now that this validation suite exists, we can run it on the other runs conducted by the automated test! In the top\nright of the Validation Suite, click the ",(0,o.kt)("strong",{parentName:"p"},"Run Suite")," button, and select a more recent gameplay session to validate.\nOnce the test is run, you can click the result within the list of runs to see a detailed view of the passed and failed\nscenarios."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of the validation suite runs",src:a(8837).Z,width:"2146",height:"1404"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Screenshot of results from a run",src:a(7909).Z,width:"3218",height:"1892"})),(0,o.kt)("h2",{id:"next-steps"},"Next Steps"),(0,o.kt)("p",null,"We now have a repeatable automated gameplay session that can be verified using the validation tool! If you got stuck\nduring this tutorial, or want to brainstorm how to get the most of this tool, please\n",(0,o.kt)("a",{parentName:"p",href:"https://discord.com/invite/925SYVse2H"},"join our active Discord community."),". We are excited to make the best automation\ntools for game QA, and would love your feedback!"))}m.isMDXComponent=!0},4375:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/add-overlay-to-scene-d2369f9c6ecb17be282b7e6d175c0d32.gif"},834:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/bossroom-e2d90f0cd24bd29720d5f957f472c2e2.png"},8735:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-validation-suite-1e06e261be14acf7e407379829a9cba9.png"},1274:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/installing-sdk-935e0d98a5c03fa57b5bd51d752b4c20.gif"},8837:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/many-runs-a80de3b5750d354032f573092a032b17.png"},7909:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/run-details-cf545d899ae285e3f19cdeae414e0092.png"},7603:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/run-scenario-66214adfa78107a7f74a7a0b566e41e9.png"},4589:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/welcome_3-bbd5b9fb049a87d0719c924bf62625ce.png"}}]);